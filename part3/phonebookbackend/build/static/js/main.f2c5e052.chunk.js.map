{"version":3,"sources":["components/FilteredPersons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["FilteredPersons","persons","filterName","deleteObject","setPersons","setNotificationMessage","filter","person","name","toLowerCase","includes","deletePersonFactory","window","confirm","id","then","p","text","type","setTimeout","catch","error","console","log","map","key","number","onClick","PersonForm","newName","newNumber","setNewName","setNewNumber","create","update","onSubmit","event","preventDefault","data","concat","onChange","target","value","Filter","nameFilter","setNameFilter","baseURL","newObject","axios","post","response","put","delete","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","App","useState","notificationMessage","useEffect","get","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f2c5e052.chunk.js","sourcesContent":["/* eslint react/prop-types: 0 */\n//TODO props validation\n\nimport React from \"react\";\n\nconst FilteredPersons = ({ persons, filterName, deleteObject, setPersons, setNotificationMessage }) => {\n  persons = persons.filter(person => person.name.toLowerCase().includes(filterName));\n\n  const deletePersonFactory = person => () => {\n    const result = window.confirm(`Delete ${person.name}?`);\n    if (result) {\n      deleteObject(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => person.id !== p.id));\n          setNotificationMessage({\n            text: `Success: deleted ${person.name}`,\n            type: \"success\"\n          });\n          setTimeout(() => setNotificationMessage(null), 5000);\n        })\n        .catch(error => {\n          console.log(error);\n          setNotificationMessage({\n            text: `Error: couldn't delete ${person.name}`,\n            type: \"error\"\n          });\n          setTimeout(() => setNotificationMessage(null), 5000);\n        });\n    }\n  };\n  return (\n    <div>\n      {persons.map(person =>\n        <p key={person.name}>\n          {person.name} {person.number} <button onClick={deletePersonFactory(person)}>delete</button>\n        </p>)}\n    </div>\n  );\n};\n\nexport default FilteredPersons;","/* eslint react/prop-types: 0 */\n//TODO props validation\n\nimport React from \"react\";\n\nconst PersonForm = ({ newName, newNumber, persons, setNewName, setNewNumber,\n  setPersons, create, update, setNotificationMessage }) => {\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const names = persons.map(person => person.name);\n\n    if (names.includes(newName)) {\n      const result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`);\n      if (result) {\n        const person = persons.filter(person => person.name === newName)[0];\n        update(person.id, {\n          name: newName,\n          number: newNumber\n        }).then((data) => {\n          setPersons(persons.map(p => p.id === person.id? data : p));\n          setNotificationMessage({\n            text: `Success: updated ${data.name}`,\n            type: \"success\"\n          });\n          setTimeout(() => setNotificationMessage(null), 5000);\n        })\n          .catch(error => {\n            console.log(error);\n            setNotificationMessage({\n              text: `Error: couldn't update ${newName}`,\n              type: \"error\"\n            });\n            setTimeout(() => setNotificationMessage(null), 5000);\n          });\n      }\n    } else {\n      create({\n        name: newName,\n        number: newNumber\n      }).then((data) => {\n        setPersons(persons.concat(data));\n        setNotificationMessage({\n          text: `Success: added ${data.name}`,\n          type: \"success\"\n        });\n        setTimeout(() => setNotificationMessage(null), 5000);\n      })\n        .catch(error => {\n          console.log(error);\n          setNotificationMessage({\n            text: `Error: couldn't add ${newName}`,\n            type: \"error\"\n          });\n          setTimeout(() => setNotificationMessage(null), 5000);\n        });\n    }\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input onChange={event => setNewName(event.target.value)} value={newName} />\n      </div>\n      <div>\n        number: <input onChange={event => setNewNumber(event.target.value)} value={newNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;","/* eslint react/prop-types: 0 */\n//TODO props validation\n\nimport React from \"react\";\n\nconst Filter = ({ nameFilter, setNameFilter}) => {\n  return (\n    <div>\n      filter shown with <input onChange={event => setNameFilter(event.target.value)} value={nameFilter}/>\n    </div>\n  );\n};\n\nexport default Filter;","/* eslint react/prop-types: 0 */\n//TODO props validation\n\nimport axios from \"axios\";\n\nconst baseURL = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseURL);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseURL, newObject);\n  return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseURL}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nconst deleteObject = id => axios.delete(`${baseURL}/${id}`);\n\nexport { getAll, create, update, deleteObject };","/* eslint react/prop-types: 0 */\n//TODO props validation\n\nimport React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  const style = {\n    color: message.type === \"error\" ? \"red\" : \"green\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  };\n\n  return (\n    <div className={message.type} style={style}>\n      {message.text}\n    </div>\n  );\n};\n\nexport default Notification;\n","/* eslint react/prop-types: 0 */\n//TODO props validation\n\nimport React, { useState, useEffect } from \"react\";\n\nimport FilteredPersons from \"./components/FilteredPersons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport { getAll, create, update, deleteObject } from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState(\"\");\n  const [ newNumber, setNewNumber ] = useState(\"\");\n  const [ nameFilter, setNameFilter ] = useState(\"\");\n  const [ notificationMessage, setNotificationMessage ] = useState(null);\n\n  useEffect(() => {\n    getAll()\n      .then(data => setPersons(data))\n      .catch(error => {\n        console.log(error);\n        setNotificationMessage({\n          text: \"Error: couldn't get the list of phonebook names from server.\",\n          type: \"error\"\n        });\n        setTimeout(() => setNotificationMessage(null), 5000);\n      });\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter\n        nameFilter={nameFilter} setNameFilter={setNameFilter}\n      />\n\n      <h3>add a new</h3>\n      <PersonForm\n        persons={persons}\n        newName={newName}\n        newNumber={newNumber}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        setPersons={setPersons}\n        create={create}\n        update={update}\n        setNotificationMessage={setNotificationMessage}\n      />\n\n      <br/>\n      <Notification message={notificationMessage} />\n\n      <h3>Numbers</h3>\n      <FilteredPersons\n        filterName={nameFilter}\n        persons={persons}\n        setPersons={setPersons}\n        deleteObject={deleteObject}\n        setNotificationMessage={setNotificationMessage}\n      />\n    </div>\n  );\n};\n\nexport default App;","/* eslint react/prop-types: 0 */\n//TODO props validation\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}